{"ast":null,"code":"var _jsxFileName = \"/Users/andrewpk/Desktop/newProj/bug-squasher/client/src/components/CreateUser/CreateUser.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport \"./CreateUser.css\";\naxios.defaults.withCredentials = true;\nexport default class CreateUser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onChangeUserFirstName = this.onChangeUserFirstName.bind(this);\n    this.onChangeUserLastName = this.onChangeUserLastName.bind(this);\n    this.onChangeUserUsername = this.onChangeUserUsername.bind(this);\n    this.onChangeUserPassword = this.onChangeUserPassword.bind(this);\n    this.onChangeUserConfirmPassword = this.onChangeUserConfirmPassword.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.goToLoginUser = this.goToLoginUser.bind(this);\n    this.changeLogin = this.changeLogin.bind(this);\n    this.state = {\n      userFirstName: '',\n      userLastName: '',\n      userUsername: '',\n      userPassword: '',\n      userConfirmPassword: '',\n      userTeams: [],\n      userAdmins: [],\n      userRecentlyAdded: false,\n      userSubFailed: false,\n      passwordsNotMatch: false,\n      userNameTaken: false\n    };\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    if (!this.state.userFirstName.trim().length || !this.state.userLastName.trim().length || !this.state.userUsername.trim().length || !this.state.userPassword.trim().length) {\n      this.clearPopups();\n      this.setState({\n        userSubFailed: true\n      });\n      return;\n    }\n\n    if (!(this.state.userPassword === this.state.userConfirmPassword)) {\n      this.clearPopups();\n      this.setState({\n        passwordsNotMatch: true\n      });\n      return;\n    }\n\n    const newUser = {\n      userFirstName: this.state.userFirstName,\n      userLastName: this.state.userLastName,\n      userUsername: this.state.userUsername,\n      userPassword: this.state.userPassword,\n      userTeams: this.state.userTeams,\n      userAdmins: this.state.userAdmins\n    };\n    axios.post('http://localhost:4000/bsDb/user/add', newUser).then(res => {\n      if (res.data.user === \"Username Taken\") {\n        this.setState({\n          userNameTaken: true\n        });\n        return;\n      } else {\n        this.changeLogin(res.data);\n        console.log(\"Successful login\");\n        this.props.history.push('/');\n        return;\n      }\n    });\n  }\n\n  changeLogin(loginSuccess) {\n    this.props.changeLoginState(loginSuccess);\n  }\n\n  goToLoginUser(e) {\n    this.props.history.push('/userLogin');\n  }\n\n  clearPopups() {\n    this.setState({\n      userRecentlyAdded: false,\n      userSubFailed: false,\n      passwordsNotMatch: false,\n      userNameTaken: false\n    });\n  }\n\n  onChangeUserFirstName(e) {\n    this.clearPopups();\n    this.setState({\n      userFirstName: e.target.value\n    });\n  }\n\n  onChangeUserLastName(e) {\n    this.clearPopups();\n    this.setState({\n      userLastName: e.target.value\n    });\n  }\n\n  onChangeUserUsername(e) {\n    this.clearPopups();\n    this.setState({\n      userUsername: e.target.value\n    });\n  }\n\n  onChangeUserPassword(e) {\n    this.clearPopups();\n    this.setState({\n      userPassword: e.target.value\n    });\n  }\n\n  onChangeUserConfirmPassword(e) {\n    this.clearPopups();\n    this.setState({\n      userConfirmPassword: e.target.value\n    });\n  }\n  /**\n   * Gives feedback if a user has been recently added/refused\n   */\n\n\n  addResponseForSubmission() {\n    if (this.state.userRecentlyAdded) {\n      return React.createElement(\"div\", {\n        className: \"alert alert-success form-group\",\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"User successfully created!\");\n    } else if (this.state.userSubFailed) {\n      return React.createElement(\"div\", {\n        className: \"alert alert-danger form-group\",\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"Submission failed.  Please leave no boxes blank.\");\n    } else if (this.state.passwordsNotMatch) {\n      return React.createElement(\"div\", {\n        className: \"alert alert-danger form-group\",\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Submission failed.  Passwords do not match.\");\n    } else if (this.state.userNameTaken) {\n      return React.createElement(\"div\", {\n        className: \"alert alert-danger form-group\",\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \"Submission failed.  Username taken.\");\n    } else {\n      return;\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        marginTop: 15\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Create New Account\"), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"First Name: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.userFirstName,\n      onChange: this.onChangeUserFirstName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"Last Name: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.userLastName,\n      onChange: this.onChangeUserLastName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: this.state.userNameTaken ? \"errorLit\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"Username: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.userUsername,\n      onChange: this.onChangeUserUsername,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: this.state.passwordsNotMatch ? \"errorLit\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, \"Password: \"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      value: this.state.userPassword,\n      onChange: this.onChangeUserPassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: this.state.passwordsNotMatch ? \"errorLit\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"Confirm Password: \"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      value: this.state.userConfirmPassword,\n      onChange: this.onChangeUserConfirmPassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-inline form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Create Account\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }), this.addResponseForSubmission())), React.createElement(\"form\", {\n      onSubmit: this.goToLoginUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Back to Login\",\n      className: \"btn btn-secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/Users/andrewpk/Desktop/newProj/bug-squasher/client/src/components/CreateUser/CreateUser.js"],"names":["React","axios","defaults","withCredentials","CreateUser","Component","constructor","props","onChangeUserFirstName","bind","onChangeUserLastName","onChangeUserUsername","onChangeUserPassword","onChangeUserConfirmPassword","onSubmit","goToLoginUser","changeLogin","state","userFirstName","userLastName","userUsername","userPassword","userConfirmPassword","userTeams","userAdmins","userRecentlyAdded","userSubFailed","passwordsNotMatch","userNameTaken","e","preventDefault","trim","length","clearPopups","setState","newUser","post","then","res","data","user","console","log","history","push","loginSuccess","changeLoginState","target","value","addResponseForSubmission","render","marginTop"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport \"./CreateUser.css\";\naxios.defaults.withCredentials = true;\n\n\nexport default class CreateUser extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.onChangeUserFirstName = this.onChangeUserFirstName.bind(this);\n        this.onChangeUserLastName = this.onChangeUserLastName.bind(this);\n        this.onChangeUserUsername = this.onChangeUserUsername.bind(this);\n        this.onChangeUserPassword = this.onChangeUserPassword.bind(this);\n        this.onChangeUserConfirmPassword = this.onChangeUserConfirmPassword.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.goToLoginUser = this.goToLoginUser.bind(this);\n        this.changeLogin = this.changeLogin.bind(this);\n\n        this.state = {\n            userFirstName: '',\n            userLastName: '',\n            userUsername: '',\n            userPassword: '',\n            userConfirmPassword: '',\n            userTeams: [],\n            userAdmins: [],\n            userRecentlyAdded: false,\n            userSubFailed: false,\n            passwordsNotMatch: false,\n            userNameTaken: false,\n        }\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n\n        if(!this.state.userFirstName.trim().length ||\n           !this.state.userLastName.trim().length ||\n           !this.state.userUsername.trim().length ||\n           !this.state.userPassword.trim().length) {\n            this.clearPopups();\n            this.setState( {\n                userSubFailed: true,\n            });\n            return;\n        }\n\n        if(!(this.state.userPassword === this.state.userConfirmPassword)) {\n            this.clearPopups();\n            this.setState( {\n                passwordsNotMatch: true\n            });\n            return;\n        }\n\n        const newUser = {\n            userFirstName: this.state.userFirstName,\n            userLastName: this.state.userLastName,\n            userUsername: this.state.userUsername,\n            userPassword: this.state.userPassword,\n            userTeams: this.state.userTeams,\n            userAdmins: this.state.userAdmins\n        };\n\n        axios.post('http://localhost:4000/bsDb/user/add', newUser)\n            .then(res => {\n                if(res.data.user === \"Username Taken\") {\n                    this.setState( {\n                        userNameTaken: true\n                    });\n                    return;\n                }\n                else {\n                    this.changeLogin(res.data);\n                    console.log(\"Successful login\");\n                    this.props.history.push('/'); \n                    return;\n                }\n            });\n    }\n\n    changeLogin(loginSuccess) {\n        this.props.changeLoginState(loginSuccess);\n    }\n\n\n    goToLoginUser(e) {\n        this.props.history.push('/userLogin'); \n    }\n\n    clearPopups() {\n        this.setState({\n            userRecentlyAdded: false,\n            userSubFailed: false,\n            passwordsNotMatch: false,\n            userNameTaken: false\n        })\n    }\n\n    onChangeUserFirstName(e) {\n        this.clearPopups();\n        this.setState({\n            userFirstName: e.target.value,\n        });\n    }\n\n    onChangeUserLastName(e) {\n        this.clearPopups();\n        this.setState({\n            userLastName: e.target.value,\n        });\n\n    }\n\n    onChangeUserUsername(e) {\n        this.clearPopups();\n        this.setState({\n            userUsername: e.target.value,\n        });\n    }\n\n    onChangeUserPassword(e) {\n        this.clearPopups();\n        this.setState({\n            userPassword: e.target.value,\n        });\n    }\n\n    onChangeUserConfirmPassword(e) {\n        this.clearPopups();\n        this.setState({\n            userConfirmPassword: e.target.value,\n        });\n    }\n\n    /**\n     * Gives feedback if a user has been recently added/refused\n     */\n    addResponseForSubmission() {\n        if(this.state.userRecentlyAdded) {\n            return (\n             <div className=\"alert alert-success form-group\" role=\"alert\">\n                 User successfully created!\n             </div>\n            );\n        }\n        else if(this.state.userSubFailed) {\n            return (\n            <div className=\"alert alert-danger form-group\" role=\"alert\">\n                 Submission failed.  Please leave no boxes blank.\n             </div>\n             );\n        }\n        else if(this.state.passwordsNotMatch) {\n            return (\n            <div className=\"alert alert-danger form-group\" role=\"alert\">\n                 Submission failed.  Passwords do not match.\n             </div>\n             );\n        }\n        else if(this.state.userNameTaken) {\n            return (\n            <div className=\"alert alert-danger form-group\" role=\"alert\">\n                 Submission failed.  Username taken.\n             </div>\n             );\n        }\n        else {\n            return;\n        }        \n     }\n\n    render() {\n        return(\n            <div style={{marginTop: 15}}>\n                <h3>Create New Account</h3>\n                <form onSubmit={this.onSubmit}>\n                    <div className=\"form-group\">\n                        <label>First Name: </label>\n                        <input  type=\"text\"\n                                className=\"form-control\"\n                                value={this.state.userFirstName}\n                                onChange={this.onChangeUserFirstName} \n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Last Name: </label>\n                        <input  type=\"text\"\n                                className=\"form-control\"\n                                value={this.state.userLastName}\n                                onChange={this.onChangeUserLastName} \n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label className = {this.state.userNameTaken ? \"errorLit\" : \"\"}>Username: </label>\n                        <input  type=\"text\"\n                                className=\"form-control\"\n                                value={this.state.userUsername}\n                                onChange={this.onChangeUserUsername} \n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label className = {this.state.passwordsNotMatch ? \"errorLit\" : \"\"}>Password: </label>\n                        <input  type=\"password\"\n                                className=\"form-control\"\n                                value={this.state.userPassword}\n                                onChange={this.onChangeUserPassword} \n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label className = {this.state.passwordsNotMatch ? \"errorLit\" : \"\"} >Confirm Password: </label>\n                        <input  type=\"password\"\n                                className=\"form-control\"\n                                value={this.state.userConfirmPassword}\n                                onChange={this.onChangeUserConfirmPassword} \n                        />\n                    </div>\n                    <div className=\"form-inline form-group\">\n                        <input type=\"submit\" value=\"Create Account\" className=\"btn btn-primary\" />\n                        {this.addResponseForSubmission()}\n                    </div>\n                </form>\n                <form onSubmit={this.goToLoginUser}>\n                    <div className=\"form-group\">\n                        <input type=\"submit\" value=\"Back to Login\" className=\"btn btn-secondary\" />\n                    </div>\n                </form>\n            </div>\n        );\n    }\n\n\n}"]},"metadata":{},"sourceType":"module"}